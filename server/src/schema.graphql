scalar Date

type Query {
  asteroids(
    page: PageInput!
    sorting: AsteroidSortingInput
    filter: AsteroidFilterInput
  ): AsteroidPage!
  asteroidStats(filter: AsteroidFilterInput): AsteroidStats!
  asteroid(id: Int!): Asteroid
  lastDataUpdateAt: Date
  priceBounds: PriceBounds!
  exchangeRates: ExchangeRates!
}

type Mutation {
  exportAsteroids(
    sorting: AsteroidSortingInput
    filter: AsteroidFilterInput
    format: ExportFormat!
  ): String!

  exportAllAsteroids(format: ExportFormat!): String!
}

type AsteroidPage {
  rows: [Asteroid!]!
  totalRows: Int!
}

type AsteroidStats {
  basicStats: BasicAsteroidStats!
  bySpectralType: SpectralTypeCounts!
  byRarity: RarityCounts!
}

type Asteroid {
  id: Int!
  baseName: String!
  name: String!
  owner: String
  radius: Float!
  surfaceArea: Float!
  size: AsteroidSize!
  orbitalPeriod: Float!
  semiMajorAxis: Float!
  inclination: Float!
  eccentricity: Float!
  spectralType: SpectralType!
  scanned: Boolean!
  estimatedPrice: Float
  rarity: AsteroidRarity
  bonuses: [AsteroidBonus!]!
}

type PriceBounds {
  min: Float!
  max: Float!
}

type ExchangeRates {
  oneEthInUsd: Float!
}

type AsteroidBonus {
  level: Int!
  modifier: Int!
  type: AsteroidBonusType!
}

type BasicAsteroidStats {
  count: Int!
  owned: Int!
  scanned: Int!
  surfaceArea: Float!
}

type SpectralTypeCounts {
  c: Int!
  cm: Int!
  ci: Int!
  cs: Int!
  cms: Int!
  cis: Int!
  s: Int!
  sm: Int!
  si: Int!
  m: Int!
  i: Int!
}

type RarityCounts {
  common: Int!
  uncommon: Int!
  rare: Int!
  superior: Int!
  exceptional: Int!
  incomparable: Int!
}

input PageInput {
  size: Int!
  num: Int!
}

input AsteroidSortingInput {
  field: AsteroidField!
  mode: SortingMode!
}

input AsteroidFilterInput {
  owned: Boolean
  owners: [String!]
  scanned: Boolean
  spectralTypes: [SpectralType!]
  radius: RangeInput
  surfaceArea: RangeInput
  sizes: [AsteroidSize!]
  orbitalPeriod: RangeInput
  semiMajorAxis: RangeInput
  inclination: RangeInput
  eccentricity: RangeInput
  estimatedPrice: RangeInput
  rarities: [AsteroidRarity!]
  bonuses: AsteroidBonusesFilterInput
}

input RangeInput {
  from: Float!
  to: Float!
}

input AsteroidBonusesFilterInput {
  conditions: [AsteroidBonusConditionInput!]!
  mode: AsteroidBonusesFilterMode!
}

enum AsteroidBonusesFilterMode {
  AND
  OR
}

input AsteroidBonusConditionInput {
  type: AsteroidBonusType
  levels: [Int!]
}

enum SortingMode {
  ASCENDING
  DESCENDING
}

enum AsteroidField {
  ID
  NAME
  OWNER
  SCANNED
  RADIUS
  SURFACE_AREA
  SIZE
  ORBITAL_PERIOD
  SEMI_MAJOR_AXIS
  INCLINATION
  SPECTRAL_TYPE
  ECCENTRICITY
  ESTIMATED_PRICE
  RARITY
}

enum SpectralType {
  C
  CM
  CI
  CS
  CMS
  CIS
  S
  SM
  SI
  M
  I
}

enum AsteroidSize {
  SMALL
  MEDIUM
  LARGE
  HUGE
}

enum AsteroidRarity {
  COMMON
  UNCOMMON
  RARE
  SUPERIOR
  EXCEPTIONAL
  INCOMPARABLE
}

enum AsteroidBonusType {
  YIELD
  VOLATILE
  METAL
  ORGANIC
  RARE_EARTH
  FISSILE
}

enum ExportFormat {
  JSON
  CSV
}
